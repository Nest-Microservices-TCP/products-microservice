# Estos son los pasos que seguir치 google cloud para la construcci칩n
# de la imagen del servicio de auth-ms. Los cuales b치sicamente son
# la ejecuci칩n de los comandos de docker que construyen la imagen
# a partir del dockerfile.prod y que la pushean hacia nuestro
# registry en la nube
steps:
  - name: "gcr.io/cloud-builders/docker"
    args:
      [
        "build",
        "-t",
        "northamerica-northeast1-docker.pkg.dev/microservices/image-cloud-registry/products-ms",
        "dockerfile.prod",
        "--platform=linux/amd64",
        ".",
      ]
  - name: "gcr.io/cloud-builders/docker",
    args:
      [
        "push",
        "northamerica-northeast1-docker.pkg.dev/microservices/image-cloud-registry/products-ms",
      ]